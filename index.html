<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <link href="https://fonts.googleapis.com/css2?family=Fira+Mono&display=swap" rel="stylesheet">
    <link href="style.css" rel="stylesheet">
    <link rel="manifest" href="manifest.webmanifest">
    <link rel="icon" href="icon.png" type="image/png">
    <script src="clock.js"></script>
    <script src="timer.js"></script>
    <script>
        "use strict";

        Math.TAU = Math.PI * 2;

        function formatDozenal(number, digits) {
            const DIGITS = 'O123456789XÔ';
            let fmt = '';
            while (digits-- > 0 || number) {
                fmt = DIGITS[number % 12] + fmt;
                number = Math.floor(number / 12);
            }
            return fmt;
        }

        document.addEventListener('DOMContentLoaded', function () {
            document.getElementById('clock').checked = true;
            const clock_widget = new ClockWidget(document.getElementById('digital-clock'));
            const timer_widget = new TimerWidget(document.getElementById('stopwatch'), { color: 'white' });
            document.getElementById('clock').addEventListener('change', function () {
                document.getElementById('tab-clock').classList.remove('hidden');
                document.getElementById('tab-timer').classList.add('hidden');
            });
            document.getElementById('timer').addEventListener('change', function () {
                document.getElementById('tab-clock').classList.add('hidden');
                document.getElementById('tab-timer').classList.remove('hidden');
                timer_widget.update_display();
            });
            document.getElementById('reset-timer').addEventListener('click', function () {
                timer_widget.stop();
            });
        });
    </script>
</head>

<body>
    <div id="navbar">
        <input type="radio" name="tab" id="clock" checked><label for="clock">Clock</label>
        <input type="radio" name="tab" id="timer"><label for="timer">Timer</label>
    </div>
    <div id="tab-clock">
        <span id="digital-clock"></span>
    </div>
    <div id="tab-timer" class="hidden">
        <svg id="stopwatch"></svg>
        <div id="reset-timer">Reset</div>
    </div>
</body>

</html>